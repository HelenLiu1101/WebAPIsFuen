
@{
    ViewData["Title"] = "WebStorage";
}

<h1>WebStorage</h1>
<input type="text" placeholder="local storage" id="txt1" />
<input type="text" placeholder="session storage" id="txt2" />
<input type="button" value="Save" id="buttonSave">
<input type="button" value="Get" id="buttonGet">
<input type="button" value="Remove" id="buttonRemove">
<div id="div1"></div>

@section Scripts{
    <script>
        const btnSave = document.querySelector("#buttonSave");
        const btnGet = document.querySelector("#buttonGet");
        const btnRemove = document.querySelector("#buttonRemove");
        const txtLocal = document.querySelector("#txt1");
        const txtSession = document.querySelector("#txt2");
        const myDiv = document.querySelector("#div1");

        btnSave.addEventListener("click",  ()=>{
            //資料寫入webstorage中
            localStorage.setItem("local1", txtLocal.value);
            sessionStorage.setItem("session1", txtSession.value);
        })

        btnGet.addEventListener("click", ()=> {
            //資料從webstorage讀出

              const tLocal = localStorage.getItem("local1");
              const tSession = sessionStorage.getItem("session1");
            myDiv.innerHTML = `localStorage：${tLocal}, SessionStroage: ${tSession}`;

            //let str = "";
            //讀取多筆資料
            // for (var i = 0, max = localStorage.length; i < max; i++) {
            //     var k = localStorage.key(i);
            //     str += localStorage.getItem(k) + "<br>";
            // }
            // myDiv.innerHTML = str;
        })

        btnRemove.addEventListener("click", ()=>{
            //localStorage.removeItem("local1");
            localStorage.clear();
        })
    </script>
}